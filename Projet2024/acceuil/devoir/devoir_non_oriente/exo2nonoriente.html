<!--<!DOCTYPE html>-->
<!--<html lang="fr">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Bienvenue</title>-->
<!--    <link rel="stylesheet" href="../../../css/styles.css">-->
<!--    <style>-->
<!--        /* Styles CSS */-->
<!--        body {-->
<!--            font-family: Arial, sans-serif;-->
<!--            margin: 0;-->
<!--            padding: 0;-->
<!--        }-->
<!--        .container {-->
<!--            display: flex;-->
<!--            flex-direction: row;-->
<!--            flex-wrap: wrap;-->
<!--            justify-content: center;-->
<!--            margin: 20px;-->
<!--        }-->
<!--        #graph {-->
<!--            width: 100%;-->
<!--            max-width: 800px;-->
<!--            height: 600px;-->
<!--            margin-top: 20px;-->
<!--        }-->
<!--        .node circle {-->
<!--            fill: lightblue;-->
<!--            stroke: gray;-->
<!--            stroke-width: 1.5px;-->
<!--        }-->
<!--        .node text {-->
<!--            font-size: 12px;-->
<!--            pointer-events: none;-->
<!--        }-->
<!--        .link {-->
<!--            fill: none;-->
<!--            stroke: #999;-->
<!--            stroke-width: 2px;-->
<!--        }-->
<!--        .link-label {-->
<!--            font-size: 12px;-->
<!--            fill: black;-->
<!--        }-->
<!--        .link.highlight {-->
<!--            stroke: blue;-->
<!--        }-->
<!--        .highlighted-node {-->
<!--            fill: red !important;-->
<!--        }-->
<!--        table {-->
<!--            width: 100%;-->
<!--            max-width: 600px;-->
<!--            border-collapse: collapse;-->
<!--            margin: 20px 0;-->
<!--        }-->
<!--        th, td {-->
<!--            border: 1px solid #ddd;-->
<!--            padding: 8px;-->
<!--            text-align: center;-->
<!--        }-->
<!--        th {-->
<!--            background-color: #f2f2f2;-->
<!--        }-->
<!--        .btn-container {-->
<!--            display: flex;-->
<!--            justify-content: center;-->
<!--            margin: 20px;-->
<!--        }-->
<!--        .btn {-->
<!--            padding: 10px 20px;-->
<!--            font-size: 16px;-->
<!--            background-color: #007BFF;-->
<!--            color: white;-->
<!--            border: none;-->
<!--            border-radius: 5px;-->
<!--            cursor: pointer;-->
<!--            margin: 0 10px;-->
<!--        }-->
<!--        .btn:hover {-->
<!--            background-color: #0056b3;-->
<!--        }-->
<!--        .red-cell {-->
<!--            background-color: red;-->
<!--            color: white;-->
<!--        }-->
<!--        .green-cell {-->
<!--            background-color: green;-->
<!--            color: white;-->
<!--        }-->
<!--        .lightgreen-cell {-->
<!--            background-color: lightgreen;-->
<!--            color: black;-->
<!--        }-->

<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<header>-->
<!--    <h1>Algorithme de Dijkstra</h1>-->
<!--    <nav>-->
<!--        <ul>-->
<!--            <li><a href="../../acceuil/acceuil.html">Acceuil</a></li>-->
<!--            <li><a href="../../introduction/intro.html">Introduction</a></li>-->
<!--            <li><a href="../../concept/concept.html">Concept</a></li>-->
<!--            <li><a href="../../cas/cas.html">Cas Pratique</a></li>-->
<!--            <li><a href="../test.html">Test</a></li>-->
<!--            <li><a href="../../quiz/quiz.html">Quiz</a></li>-->
<!--            <li><a href="../../conclusion/conclusion.html">Conclusion</a></li>-->
<!--            <li><a href="../../bibliographie/bibliographie.html">Bibliographie</a></li>-->
<!--        </ul>-->
<!--    </nav>-->
<!--</header>-->
<!--<main>-->
<!--    <section class="center-content">-->
<!--        <div class="container">-->
<!--            <div class="table-container">-->
<!--                <h2>Utilisez l'algorithme de Dijkstra pour trouver le plus court chemin</h2>-->
<!--                <table>-->
<!--                    <thead>-->
<!--                    <tr>-->
<!--                        <th>Étapes</th>-->
<!--                        <th>A</th>-->
<!--                        <th>B</th>-->
<!--                        <th>C</th>-->
<!--                        <th>D</th>-->
<!--                        <th>E</th>-->
<!--                        <th>F</th>-->
<!--                        <th>G</th>-->
<!--                    </tr>-->
<!--                    </thead>-->
<!--                    <tbody id="steps-table-body">-->
<!--                    <tr>-->
<!--                        <td>Départ</td>-->
<!--                        <td><input type="text" id="A-0" readonly></td>-->
<!--                        <td><input type="text" id="B-0"></td>-->
<!--                        <td><input type="text" id="C-0"></td>-->
<!--                        <td><input type="text" id="D-0"></td>-->
<!--                        <td><input type="text" id="E-0"></td>-->
<!--                        <td><input type="text" id="F-0"></td>-->
<!--                        <td><input type="text" id="G-0"></td>-->
<!--                    </tr>-->
<!--                    <tr>-->
<!--                        <td>A</td>-->
<!--                        <td><input type="text" id="A-1"></td>-->
<!--                        <td><input type="text" id="B-1"></td>-->
<!--                        <td><input type="text" id="C-1"></td>-->
<!--                        <td><input type="text" id="D-1"></td>-->
<!--                        <td><input type="text" id="E-1"></td>-->
<!--                        <td><input type="text" id="F-1"></td>-->
<!--                        <td><input type="text" id="G-1"></td>-->
<!--                    </tr>-->
<!--                    <tr>-->
<!--                        <td>B</td>-->
<!--                        <td><input type="text" id="A-2"></td>-->
<!--                        <td><input type="text" id="B-2"></td>-->
<!--                        <td><input type="text" id="C-2"></td>-->
<!--                        <td><input type="text" id="D-2"></td>-->
<!--                        <td><input type="text" id="E-2"></td>-->
<!--                        <td><input type="text" id="F-2"></td>-->
<!--                        <td><input type="text" id="G-2"></td>-->
<!--                    </tr>-->
<!--                    <tr>-->
<!--                        <td>E</td>-->
<!--                        <td><input type="text" id="A-3"></td>-->
<!--                        <td><input type="text" id="B-3"></td>-->
<!--                        <td><input type="text" id="C-3"></td>-->
<!--                        <td><input type="text" id="D-3"></td>-->
<!--                        <td><input type="text" id="E-3"></td>-->
<!--                        <td><input type="text" id="F-3"></td>-->
<!--                        <td><input type="text" id="G-3"></td>-->
<!--                    </tr>-->
<!--                    <tr>-->
<!--                        <td>D</td>-->
<!--                        <td><input type="text" id="A-4"></td>-->
<!--                        <td><input type="text" id="B-4"></td>-->
<!--                        <td><input type="text" id="C-4"></td>-->
<!--                        <td><input type="text" id="D-4"></td>-->
<!--                        <td><input type="text" id="E-4"></td>-->
<!--                        <td><input type="text" id="F-4"></td>-->
<!--                        <td><input type="text" id="G-4"></td>-->
<!--                    </tr>-->
<!--                    <tr>-->
<!--                        <td>C</td>-->
<!--                        <td><input type="text" id="A-5"></td>-->
<!--                        <td><input type="text" id="B-5"></td>-->
<!--                        <td><input type="text" id="C-5"></td>-->
<!--                        <td><input type="text" id="D-5"></td>-->
<!--                        <td><input type="text" id="E-5"></td>-->
<!--                        <td><input type="text" id="F-5"></td>-->
<!--                        <td><input type="text" id="G-5"></td>-->
<!--                    </tr>-->
<!--                    <tr>-->
<!--                        <td>F</td>-->
<!--                        <td><input type="text" id="A-6"></td>-->
<!--                        <td><input type="text" id="B-6"></td>-->
<!--                        <td><input type="text" id="C-6"></td>-->
<!--                        <td><input type="text" id="D-6"></td>-->
<!--                        <td><input type="text" id="E-6"></td>-->
<!--                        <td><input type="text" id="F-6"></td>-->
<!--                        <td><input type="text" id="G-6"></td>-->
<!--                    </tr>-->
<!--                    <tr>-->
<!--                        <td>G</td>-->
<!--                        <td><input type="text" id="A-7"></td>-->
<!--                        <td><input type="text" id="B-7"></td>-->
<!--                        <td><input type="text" id="C-7"></td>-->
<!--                        <td><input type="text" id="D-7"></td>-->
<!--                        <td><input type="text" id="E-7"></td>-->
<!--                        <td><input type="text" id="F-7"></td>-->
<!--                        <td><input type="text" id="G-7"></td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--                <input type="text" id="shortest-path-input" placeholder="Le plus court chemin Ex: ABEFC">-->
<!--                <div class="btn-container">-->
<!--                    <button class="btn" id="check-answer">Vérifier</button>-->
<!--                    <button class="btn" id="show-result">Afficher Résultat</button>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div id="graph-container">-->
<!--                <h2>Graphique</h2>-->
<!--                <div id="graph"></div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </section>-->
<!--</main>-->
<!--<div class="btn-container">-->
<!--    <button class="btn" id="prevBtn" onclick="pagePrecedente()">Exercice 1</button>-->
<!--</div>-->
<!--<script src="https://d3js.org/d3.v6.min.js"></script>-->
<!--<script>-->
<!--    function pagePrecedente() {-->
<!--        window.location.href = 'exo1nonoriente.html';-->
<!--    }-->

<!--    // Données pour le graphique-->
<!--    const noeuds = [-->
<!--        { id: "A", x: 50, y: 250 },-->
<!--        { id: "B", x: 150, y: 350 },-->
<!--        { id: "C", x: 250, y: 450 },-->
<!--        { id: "D", x: 300, y: 250 },-->
<!--        { id: "E", x: 500, y: 150 },-->
<!--        { id: "F", x: 500, y: 300 },-->
<!--        { id: "G", x: 450, y: 400 }-->
<!--    ];-->

<!--    const liens = [-->
<!--        { source: "A", target: "B", weight: 5 },-->
<!--        { source: "A", target: "E", weight: 6 },-->
<!--        { source: "A", target: "D", weight: 10 },-->
<!--        { source: "B", target: "C", weight: 5 },-->
<!--        { source: "C", target: "G", weight: 3 },-->
<!--        { source: "D", target: "E", weight: 3 },-->
<!--        { source: "D", target: "F", weight: 1 },-->
<!--        { source: "D", target: "G", weight: 4 },-->
<!--        { source: "E", target: "F", weight: 5 },-->
<!--        { source: "F", target: "G", weight: 2 }-->
<!--    ];-->

<!--    const etapesCorrectes = [-->
<!--        { step: "Départ", distances: { A: '0A', B: 'Infini', C: 'Infini', D: 'Infini', E: 'Infini', F: 'Infini', G: 'Infini' } },-->
<!--        { step: "A", distances: { A: '', B: '5A', C: 'Infini', D: '10A', E: '6A', F: 'Infini', G: 'Infini' } },-->
<!--        { step: "B", distances: { A: '', B: '', C: '10B', D: '10A', E: '6A', F: 'Infini', G: 'Infini' } },-->
<!--        { step: "E", distances: { A: '', B: '', C: '10B', D: '9E', E: '', F: '11E', G: 'Infini' } },-->
<!--        { step: "D", distances: { A: '', B: '', C: '10B', D: '', E: '', F: '10D', G: '13D' } },-->
<!--        { step: "C", distances: { A: '', B: '', C: '', D: '', E: '', F: '10D', G: '13D' } },-->
<!--        { step: "F", distances: { A: '', B: '', C: '', D: '', E: '', F: '', G: '12F' } },-->
<!--        { step: "G", distances: { A: '', B: '', C: '', D: '', E: '', F: '', G: '' } }-->
<!--    ];-->

<!--    const plusCourtChemin = "AEDFG";-->

<!--    // Créer l'élément SVG-->
<!--    const svg = d3.select("#graph").append("svg")-->
<!--        .attr("width", "100%")-->
<!--        .attr("height", "100%")-->
<!--        .attr("viewBox", "0 0 600 500")-->
<!--        .attr("preserveAspectRatio", "xMidYMid meet");-->

<!--    // Créer les liens-->
<!--    const lien = svg.append("g")-->
<!--        .selectAll("line")-->
<!--        .data(liens)-->
<!--        .enter().append("line")-->
<!--        .attr("class", "link")-->
<!--        .style("stroke-width", 2);-->

<!--    // Créer les étiquettes de liens-->
<!--    const etiquetteLien = svg.append("g")-->
<!--        .selectAll(".link-label")-->
<!--        .data(liens)-->
<!--        .enter().append("text")-->
<!--        .attr("class", "link-label")-->
<!--        .text(d => d.weight);-->

<!--    // Créer les nœuds-->
<!--    const noeud = svg.append("g")-->
<!--        .selectAll(".node")-->
<!--        .data(noeuds)-->
<!--        .enter().append("g")-->
<!--        .attr("class", "node");-->

<!--    noeud.append("circle")-->
<!--        .attr("r", 10);-->

<!--    noeud.append("text")-->
<!--        .attr("dy", -15)-->
<!--        .text(d => d.id);-->

<!--    // Positionner les nœuds et les liens-->
<!--    function mettreAJourPositionsGraph() {-->
<!--        noeud.attr("transform", d => `translate(${d.x},${d.y})`);-->

<!--        lien.attr("x1", d => noeuds.find(noeud => noeud.id === d.source).x)-->
<!--            .attr("y1", d => noeuds.find(noeud => noeud.id === d.source).y)-->
<!--            .attr("x2", d => noeuds.find(noeud => noeud.id === d.target).x)-->
<!--            .attr("y2", d => noeuds.find(noeud => noeud.id === d.target).y);-->

<!--        etiquetteLien-->
<!--            .attr("x", d => (noeuds.find(noeud => noeud.id === d.source).x + noeuds.find(noeud => noeud.id === d.target).x) / 2)-->
<!--            .attr("y", d => (noeuds.find(noeud => noeud.id === d.source).y + noeuds.find(noeud => noeud.id === d.target).y) / 2);-->
<!--    }-->

<!--    mettreAJourPositionsGraph();-->

<!--    // Fonction pour surligner les cellules du plus court chemin-->
<!--    function surlignerPlusCourtChemin(chemin) {-->
<!--        chemin.forEach((noeud, index) => {-->
<!--            if (index > 0) {-->
<!--                document.getElementById(`${noeud}-${index}`).classList.add('red-cell');-->
<!--            }-->
<!--        });-->
<!--    }-->

<!--    // Ajouter un écouteur d'événement pour le bouton "Vérifier"-->
<!--    document.getElementById('check-answer').addEventListener('click', () => {-->
<!--        let correct = true;-->
<!--        etapesCorrectes.forEach((etape, index) => {-->
<!--            Object.entries(etape.distances).forEach(([noeud, valeur]) => {-->
<!--                const input = document.getElementById(`${noeud}-${index}`);-->
<!--                if (input.value !== valeur) {-->
<!--                    input.classList.add('red-cell');-->
<!--                    input.classList.remove('green-cell');-->
<!--                    correct = false;-->
<!--                } else {-->
<!--                    input.classList.add('green-cell');-->
<!--                    input.classList.remove('red-cell');-->
<!--                }-->
<!--            });-->
<!--        });-->
<!--        const plusCourtCheminInput = document.getElementById('shortest-path-input').value;-->
<!--        if (plusCourtCheminInput !== plusCourtChemin) {-->
<!--            document.getElementById('shortest-path-input').classList.add('red-cell');-->
<!--            document.getElementById('shortest-path-input').classList.remove('green-cell');-->
<!--        } else {-->
<!--            document.getElementById('shortest-path-input').classList.add('green-cell');-->
<!--            document.getElementById('shortest-path-input').classList.remove('red-cell');-->
<!--        }-->
<!--        if (correct) {-->
<!--            alert('Correct! Vous avez trouvé le plus court chemin.');-->
<!--        } else {-->
<!--            alert('Incorrect. Veuillez réessayer.');-->
<!--        }-->
<!--    });-->

<!--    // Ajouter un écouteur d'événement pour le bouton "Afficher Résultat"-->
<!--    document.getElementById('show-result').addEventListener('click', () => {-->
<!--        etapesCorrectes.forEach((etape, index) => {-->
<!--            Object.entries(etape.distances).forEach(([noeud, valeur]) => {-->
<!--                const input = document.getElementById(`${noeud}-${index}`);-->
<!--                input.value = valeur;-->
<!--                input.classList.add('lightgreen-cell');-->
<!--            });-->
<!--        });-->
<!--        document.getElementById('shortest-path-input').value = plusCourtChemin;-->
<!--        document.getElementById('shortest-path-input').classList.add('lightgreen-cell');-->

<!--        // Surligner le plus court chemin sur le graphique-->
<!--        const edgesPlusCourtChemin = [-->
<!--            { source: "A", target: "E" },-->
<!--            { source: "E", target: "D" },-->
<!--            { source: "D", target: "F" },-->
<!--            { source: "F", target: "G" }-->
<!--        ];-->

<!--        lien.classed("highlight", d =>-->
<!--            edgesPlusCourtChemin.some(edge =>-->
<!--                (d.source === edge.source && d.target === edge.target) ||-->
<!--                (d.source === edge.target && d.target === edge.source)-->
<!--            )-->
<!--        );-->

<!--        noeud.select("circle").classed("highlighted-node", d => plusCourtChemin.includes(d.id));-->

<!--        // Surligner le plus court chemin dans le tableau-->
<!--        surlignerPlusCourtChemin(plusCourtChemin.split(''));-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Bienvenue</title>
    <link rel="stylesheet" href="../../../css/styles.css">
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
    <style>
        /* Styles CSS */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .container {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px;
        }
        #graph {
            width: 100%;
            max-width: 800px;
            height: 600px;
            margin-top: 20px;
        }
        .node circle {
            fill: lightblue;
            stroke: gray;
            stroke-width: 1.5px;
        }
        .node text {
            font-size: 12px;
            pointer-events: none;
        }
        .link {
            fill: none;
            stroke: #999;
            stroke-width: 2px;
        }
        .link-label {
            font-size: 12px;
            fill: black;
        }
        .link.highlight {
            stroke: blue;
        }
        .highlighted-node {
            fill: red !important;
        }
        table {
            width: 100%;
            max-width: 600px;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
        .btn-container {
            display: flex;
            justify-content: center;
            margin: 20px;
        }
        .btn {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 10px;
        }
        .btn:hover {
            background-color: #0056b3;
        }
        .red-cell {
            background-color: red;
            color: white;
        }
        .green-cell {
            background-color: green;
            color: white;
        }
        .lightgreen-cell {
            background-color: lightgreen;
            color: black;
        }
    </style>
</head>
<body>
<header>
    <h1>Algorithme de Dijkstra</h1>
    <nav>
        <ul>
            <li><a href="../../../acceuil/acceuil.html">Acceuil</a></li>
            <li><a href="../../../acceuil/introduction/intro.html">Introduction</a></li>
            <li><a href="../../../acceuil/concept/concept.html">Concept</a></li>
            <li><a href="../../cas/cas2/cas2.html">Cas Pratique</a></li>
            <li><a href="../test.html">Test</a></li>
            <li><a href="../../quiz/quiz.html">Quiz</a></li>
            <li><a href="../../../acceuil/conclusion/conclusion.html">Conclusion</a></li>
            <li><a href="../../../acceuil/bibliographie/bibliographie.html">Bibliographie</a></li>
        </ul>
    </nav>
</header>
<main>
    <section class="center-content">
        <div class="container">
            <div class="table-container">
                <h2>Utilisez l'algorithme de Dijkstra pour trouver le plus court chemin</h2>
                <table>
                    <thead>
                    <tr>
                        <th>Étapes</th>
                        <th>A</th>
                        <th>B</th>
                        <th>C</th>
                        <th>D</th>
                        <th>E</th>
                        <th>F</th>
                        <th>G</th>
                    </tr>
                    </thead>
                    <tbody id="steps-table-body">
                    <tr>
                        <td>Départ</td>
                        <td><input type="text" id="A-0" readonly></td>
                        <td><input type="text" id="B-0"></td>
                        <td><input type="text" id="C-0"></td>
                        <td><input type="text" id="D-0"></td>
                        <td><input type="text" id="E-0"></td>
                        <td><input type="text" id="F-0"></td>
                        <td><input type="text" id="G-0"></td>
                    </tr>
                    <tr>
                        <td>A</td>
                        <td><input type="text" id="A-1"></td>
                        <td><input type="text" id="B-1"></td>
                        <td><input type="text" id="C-1"></td>
                        <td><input type="text" id="D-1"></td>
                        <td><input type="text" id="E-1"></td>
                        <td><input type="text" id="F-1"></td>
                        <td><input type="text" id="G-1"></td>
                    </tr>
                    <tr>
                        <td>B</td>
                        <td><input type="text" id="A-2"></td>
                        <td><input type="text" id="B-2"></td>
                        <td><input type="text" id="C-2"></td>
                        <td><input type="text" id="D-2"></td>
                        <td><input type="text" id="E-2"></td>
                        <td><input type="text" id="F-2"></td>
                        <td><input type="text" id="G-2"></td>
                    </tr>
                    <tr>
                        <td>E</td>
                        <td><input type="text" id="A-3"></td>
                        <td><input type="text" id="B-3"></td>
                        <td><input type="text" id="C-3"></td>
                        <td><input type="text" id="D-3"></td>
                        <td><input type="text" id="E-3"></td>
                        <td><input type="text" id="F-3"></td>
                        <td><input type="text" id="G-3"></td>
                    </tr>
                    <tr>
                        <td>D</td>
                        <td><input type="text" id="A-4"></td>
                        <td><input type="text" id="B-4"></td>
                        <td><input type="text" id="C-4"></td>
                        <td><input type="text" id="D-4"></td>
                        <td><input type="text" id="E-4"></td>
                        <td><input type="text" id="F-4"></td>
                        <td><input type="text" id="G-4"></td>
                    </tr>
                    <tr>
                        <td>C</td>
                        <td><input type="text" id="A-5"></td>
                        <td><input type="text" id="B-5"></td>
                        <td><input type="text" id="C-5"></td>
                        <td><input type="text" id="D-5"></td>
                        <td><input type="text" id="E-5"></td>
                        <td><input type="text" id="F-5"></td>
                        <td><input type="text" id="G-5"></td>
                    </tr>
                    <tr>
                        <td>F</td>
                        <td><input type="text" id="A-6"></td>
                        <td><input type="text" id="B-6"></td>
                        <td><input type="text" id="C-6"></td>
                        <td><input type="text" id="D-6"></td>
                        <td><input type="text" id="E-6"></td>
                        <td><input type="text" id="F-6"></td>
                        <td><input type="text" id="G-6"></td>
                    </tr>
                    <tr>
                        <td>G</td>
                        <td><input type="text" id="A-7"></td>
                        <td><input type="text" id="B-7"></td>
                        <td><input type="text" id="C-7"></td>
                        <td><input type="text" id="D-7"></td>
                        <td><input type="text" id="E-7"></td>
                        <td><input type="text" id="F-7"></td>
                        <td><input type="text" id="G-7"></td>
                    </tr>
                    </tbody>
                </table>
                <input type="text" id="shortest-path-input" placeholder="Le plus court chemin Ex: ABEFC">
                <div class="btn-container">
                    <button class="btn" id="check-answer">Vérifier</button>
                    <button class="btn" id="show-result">Afficher Résultat</button>
                </div>
            </div>
            <div id="graph-container">
                <h2>Graphique</h2>
                <div id="graph"></div>
            </div>
        </div>
    </section>
</main>
<div class="btn-container">
    <button class="btn" id="prevBtn" onclick="pagePrecedente()">Exercice 1</button>
</div>
<div id="sagemath-output"></div>
<script src="https://d3js.org/d3.v6.min.js"></script>
<script>
    function pagePrecedente() {
        window.location.href = 'exo1nonoriente.html';
    }

    document.addEventListener("DOMContentLoaded", function() {
        // Tạo cell SageMath
        sagecell.makeSagecell({
            inputLocation: '#sagemath-output',
            evalButtonText: 'Run SageMath',
            template: sagecell.templates.minimal,
            code: `
# Định nghĩa đồ thị sử dụng SageMath
G = Graph({
    'A': ['B', 'E', 'D'],
    'B': ['C'],
    'C': ['G'],
    'D': ['E', 'F', 'G'],
    'E': ['F'],
    'F': ['G']
})

# Hiển thị đồ thị
G.show()
            `
        });

        // Données pour le graphique
        const noeuds = [
            { id: "A", x: 50, y: 250 },
            { id: "B", x: 150, y: 350 },
            { id: "C", x: 250, y: 450 },
            { id: "D", x: 300, y: 250 },
            { id: "E", x: 500, y: 150 },
            { id: "F", x: 500, y: 300 },
            { id: "G", x: 450, y: 400 }
        ];

        const liens = [
            { source: "A", target: "B", weight: 5 },
            { source: "A", target: "E", weight: 6 },
            { source: "A", target: "D", weight: 10 },
            { source: "B", target: "C", weight: 5 },
            { source: "C", target: "G", weight: 3 },
            { source: "D", target: "E", weight: 3 },
            { source: "D", target: "F", weight: 1 },
            { source: "D", target: "G", weight: 4 },
            { source: "E", target: "F", weight: 5 },
            { source: "F", target: "G", weight: 2 }
        ];

        const etapesCorrectes = [
            { step: "Départ", distances: { A: '0A', B: 'Infini', C: 'Infini', D: 'Infini', E: 'Infini', F: 'Infini', G: 'Infini' } },
            { step: "A", distances: { A: '', B: '5A', C: 'Infini', D: '10A', E: '6A', F: 'Infini', G: 'Infini' } },
            { step: "B", distances: { A: '', B: '', C: '10B', D: '10A', E: '6A', F: 'Infini', G: 'Infini' } },
            { step: "E", distances: { A: '', B: '', C: '10B', D: '9E', E: '', F: '11E', G: 'Infini' } },
            { step: "D", distances: { A: '', B: '', C: '10B', D: '', E: '', F: '10D', G: '13D' } },
            { step: "C", distances: { A: '', B: '', C: '', D: '', E: '', F: '10D', G: '13D' } },
            { step: "F", distances: { A: '', B: '', C: '', D: '', E: '', F: '', G: '12F' } },
            { step: "G", distances: { A: '', B: '', C: '', D: '', E: '', F: '', G: '' } }
        ];

        const plusCourtChemin = "AEDFG";

        // Créer l'élément SVG
        const svg = d3.select("#graph").append("svg")
            .attr("width", "100%")
            .attr("height", "100%")
            .attr("viewBox", "0 0 600 500")
            .attr("preserveAspectRatio", "xMidYMid meet");

        // Créer les liens
        const lien = svg.append("g")
            .selectAll("line")
            .data(liens)
            .enter().append("line")
            .attr("class", "link")
            .style("stroke-width", 2);

        // Créer les étiquettes de liens
        const etiquetteLien = svg.append("g")
            .selectAll(".link-label")
            .data(liens)
            .enter().append("text")
            .attr("class", "link-label")
            .text(d => d.weight);

        // Créer les nœuds
        const noeud = svg.append("g")
            .selectAll(".node")
            .data(noeuds)
            .enter().append("g")
            .attr("class", "node");

        noeud.append("circle")
            .attr("r", 10);

        noeud.append("text")
            .attr("dy", -15)
            .text(d => d.id);

        // Positionner les nœuds et les liens
        function mettreAJourPositionsGraph() {
            noeud.attr("transform", d => `translate(${d.x},${d.y})`);

            lien.attr("x1", d => noeuds.find(noeud => noeud.id === d.source).x)
                .attr("y1", d => noeuds.find(noeud => noeud.id === d.source).y)
                .attr("x2", d => noeuds.find(noeud => noeud.id === d.target).x)
                .attr("y2", d => noeuds.find(noeud => noeud.id === d.target).y);

            etiquetteLien
                .attr("x", d => (noeuds.find(noeud => noeud.id === d.source).x + noeuds.find(noeud => noeud.id === d.target).x) / 2)
                .attr("y", d => (noeuds.find(noeud => noeud.id === d.source).y + noeuds.find(noeud => noeud.id === d.target).y) / 2);
        }

        mettreAJourPositionsGraph();

        // Fonction pour surligner les cellules du plus court chemin
        function surlignerPlusCourtChemin(chemin) {
            chemin.forEach((noeud, index) => {
                if (index > 0) {
                    document.getElementById(`${noeud}-${index}`).classList.add('red-cell');
                }
            });
        }

        // Ajouter un écouteur d'événement pour le bouton "Vérifier"
        document.getElementById('check-answer').addEventListener('click', () => {
            let correct = true;
            etapesCorrectes.forEach((etape, index) => {
                Object.entries(etape.distances).forEach(([noeud, valeur]) => {
                    const input = document.getElementById(`${noeud}-${index}`);
                    if (input.value !== valeur) {
                        input.classList.add('red-cell');
                        input.classList.remove('green-cell');
                        correct = false;
                    } else {
                        input.classList.add('green-cell');
                        input.classList.remove('red-cell');
                    }
                });
            });
            const plusCourtCheminInput = document.getElementById('shortest-path-input').value;
            if (plusCourtCheminInput !== plusCourtChemin) {
                document.getElementById('shortest-path-input').classList.add('red-cell');
                document.getElementById('shortest-path-input').classList.remove('green-cell');
            } else {
                document.getElementById('shortest-path-input').classList.add('green-cell');
                document.getElementById('shortest-path-input').classList.remove('red-cell');
            }
            if (correct) {
                alert('Correct! Vous avez trouvé le plus court chemin.');
            } else {
                alert('Incorrect. Veuillez réessayer.');
            }
        });

        // Ajouter un écouteur d'événement pour le bouton "Afficher Résultat"
        document.getElementById('show-result').addEventListener('click', () => {
            etapesCorrectes.forEach((etape, index) => {
                Object.entries(etape.distances).forEach(([noeud, valeur]) => {
                    const input = document.getElementById(`${noeud}-${index}`);
                    input.value = valeur;
                    input.classList.add('lightgreen-cell');
                });
            });
            document.getElementById('shortest-path-input').value = plusCourtChemin;
            document.getElementById('shortest-path-input').classList.add('lightgreen-cell');

            // Surligner le plus court chemin sur le graphique
            const edgesPlusCourtChemin = [
                { source: "A", target: "E" },
                { source: "E", target: "D" },
                { source: "D", target: "F" },
                { source: "F", target: "G" }
            ];

            lien.classed("highlight", d =>
                edgesPlusCourtChemin.some(edge =>
                    (d.source === edge.source && d.target === edge.target) ||
                    (d.source === edge.target && d.target === edge.source)
                )
            );

            noeud.select("circle").classed("highlighted-node", d => plusCourtChemin.includes(d.id));

            // Surligner le plus court chemin dans le tableau
            surlignerPlusCourtChemin(plusCourtChemin.split(''));
        });
    });
</script>
</body>
</html>
